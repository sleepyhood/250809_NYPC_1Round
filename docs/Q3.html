<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ìë¬¼ì‡  ì‹œë®¬ë ˆì´í„° (ì´ë¡  vs ì²´í—˜)</title>
  <style>
   body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #f9f9f9;
      color: #333;
      padding: 30px;
      line-height: 1.6;
      text-align: center;
      max-width: 800px;
      margin: 0px auto;
      
    }

    h1 {
      font-size: 28px;
      color: #222;
      margin-bottom: 20px;
    }

    label {
      display: inline-block;
      margin: 10px 10px 10px 0;
      font-size: 16px;
    }

    input[type="number"] {
      width: 60px;
      padding: 5px 8px;
      font-size: 16px;
      margin-left: 5px;
      border: 1px solid #ccc;
      border-radius: 6px;
    }

    button {
      font-size: 16px;
      padding: 10px 16px;
      margin: 10px 8px 20px 0;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    button:hover {
      opacity: 0.9;
    }

    button:active {
      transform: scale(0.98);
    }

    button.nth-of-type1 {
      background-color: #4a90e2;
      color: white;
    }

    button.nth-of-type2 {
      background-color: #50c878;
      color: white;
    }

    .button-container {
      margin: 15px 0;
    }

    .lock-btn {
      width: 50px;
      height: 50px;
      font-size: 18px;
      margin: 8px;
      border: 1px solid #ccc;
      border-radius: 8px;
      cursor: pointer;
      background-color: #fff;
      transition: background-color 0.2s ease;
    }

    .lock-btn:hover {
      background-color: #f0f0f0;
    }

    .status {
      margin-top: 20px;
      padding: 10px;
      background-color: #eef2f7;
      border-left: 5px solid #4a90e2;
      font-weight: bold;
      font-size: 16px;
    }

    .sequence {
      margin-top: 15px;
      font-size: 16px;
      padding: 8px;
      border: 1px solid #ddd;
      background-color: #fff;
      border-radius: 6px;
    }

    .log {
      margin-top: 20px;
      white-space: pre-wrap;
      background: #fcfcfc;
      padding: 15px;
      border: 1px solid #ccc;
      border-radius: 6px;
      max-height: 250px;
      overflow-y: auto;
      font-family: 'Courier New', monospace;
      font-size: 14px;
      text-align: left;
    }</style>
</head>
<body>
  <h1>ğŸ” ìë¬¼ì‡  ì‹œë®¬ë ˆì´í„°</h1>

  <label>ë²„íŠ¼ ê°œìˆ˜ (n): <input type="number" id="nInput" value="4" min="1" max = "6"/></label><br><br>
  <label>í•„ìš”í•œ ì‹œí€€ìŠ¤ ê¸¸ì´ (k): <input type="number" id="kInput" value="2" min="1" max="6"/></label><br><br>

  <button onclick="runAutoMode()" class="nth-of-type1">â–¶ï¸ ìë™ ì‹œë®¬ë ˆì´ì…˜ ëª¨ë“œ (ì´ë¡ )</button>
  <button onclick="runManualMode()" class="nth-of-type2">ğŸ® ì‚¬ìš©ì ì²´í—˜ ëª¨ë“œ</button>

  <div class="button-container" id="buttonContainer"></div>
  <div class="status" id="statusBox">ëª¨ë“œë¥¼ ì„ íƒí•˜ì„¸ìš”.</div>
  <div class="sequence" id="progressBox"></div>
  <div class="log" id="logBox">[ë¡œê·¸ ì˜ì—­]</div>

  <script>
    let n = 4, k = 2;
    let answer = [];
    let current = [];
    let attempts = 0;

    function updateStatus(msg) {
      document.getElementById("statusBox").innerText = msg;
    }

    function updateProgress() {
      document.getElementById("progressBox").innerText =
        `í˜„ì¬ ì…ë ¥: [${current.join(", ")}] | ì‹œë„ íšŸìˆ˜: ${attempts}`;
    }

    function log(msg) {
      const box = document.getElementById("logBox");
      box.innerText += `\n${msg}`;
      box.scrollTop = box.scrollHeight;
    }

    function clearLog() {
      document.getElementById("logBox").innerText = "[ë¡œê·¸ ì˜ì—­]";
    }
    

    // ğŸ“Œ ìë™ ì´ë¡  ì‹œë®¬ë ˆì´ì…˜ ëª¨ë“œ
    function runAutoMode() {
  n = parseInt(document.getElementById("nInput").value);
  k = parseInt(document.getElementById("kInput").value);

  document.getElementById("buttonContainer").innerHTML = "";
  updateStatus("â–¶ï¸ ì´ë¡  ëª¨ë“œ ì‹¤í–‰ ì¤‘...");
  document.getElementById("progressBox").innerText = "";
  clearLog();

  let ans = 0;
  let steps = [];

  for (let i = 1; i <= k; i++) {
    for (let j = 1; j <= n - i; j++) {
      ans += i;
      // ë‹¨ê³„ì™€ ì‹œë„ ìœ„ì¹˜, ì™œ í‹€ë ¸ëŠ”ì§€ ì„¤ëª… ì¶”ê°€
      if(i === 1) {
        steps.push(`[1ë‹¨ê³„] ë²„íŠ¼ ${j} â†’ âŒ í‹€ë ¸ì–´ìš”. (ì²« ë²ˆì§¸ ë²„íŠ¼ì´ ${j}ì€ ì•„ë‹™ë‹ˆë‹¤.)\tí˜„ì¬ê¹Œì§€ ì´ ${ans}ë²ˆ ë²„íŠ¼ì„ ëˆ„ë¦„.`);
      } else {
        // ië‹¨ê³„ì¼ ë•Œ, ì•ë‹¨ê³„ ì •ë‹µ(â—) í‘œì‹œì™€ í˜„ì¬ ì‹œë„ ë²„íŠ¼ ì„¤ëª…
        const triedButtons = Array(i - 1).fill('â—').join(' ');
        steps.push(`[${i}ë‹¨ê³„] ì‹œë„: ${triedButtons} ${j} â†’ âŒ í‹€ë ¸ì–´ìš”. (${i}ë²ˆì§¸ ë²„íŠ¼ì´ ${j}ì€ ì•„ë‹™ë‹ˆë‹¤.)\tí˜„ì¬ê¹Œì§€ ì´ ${ans}ë²ˆ ë²„íŠ¼ì„ ëˆ„ë¦„.`);
      }
    }
  }

  ans += k;
  // ì •ë‹µ ì‹œë„ë„ ì¹œì ˆíˆ ì„¤ëª…
  const correctSequence = Array.from({ length: k }, (_, idx) => n - idx).join(" ");
  steps.push(`[${k}ë‹¨ê³„] ì‹œë„: ${correctSequence} â†’ âœ… ì •ë‹µì…ë‹ˆë‹¤! ìë¬¼ì‡ ê°€ ì—´ë ¸ì–´ìš” ğŸ”“\tí˜„ì¬ê¹Œì§€ ì´ ${ans}ë²ˆ ë²„íŠ¼ì„ ëˆ„ë¦„.`);

  let idx = 0;
  const interval = setInterval(() => {
    if (idx < steps.length) {
      log(steps[idx]);
      idx++;
    } else {
      log(`ğŸ¯ ì´ë¡  ì´ ì‹œë„ íšŸìˆ˜: ${ans}ë²ˆ`);
      updateStatus(`âœ… ì´ë¡  ì‹œë®¬ë ˆì´ì…˜ ì™„ë£Œ`);
      clearInterval(interval);
    }
  }, 700);
}


    // ğŸ® ìˆ˜ë™ ì²´í—˜ ëª¨ë“œ
    function runManualMode() {
      n = parseInt(document.getElementById("nInput").value);
      k = parseInt(document.getElementById("kInput").value);

      current = [];
      attempts = 0;
      clearLog();

      // ì •ë‹µ ì‹œí€€ìŠ¤ ìƒì„±
      answer = [];
      const used = new Set();
      while (answer.length < k) {
        let val = Math.floor(Math.random() * n) + 1;
        if (!used.has(val)) {
          used.add(val);
          answer.push(val);
        }
      }

      // ë²„íŠ¼ ë§Œë“¤ê¸°
      const container = document.getElementById("buttonContainer");
      container.innerHTML = "";
      for (let i = 1; i <= n; i++) {
        const btn = document.createElement("button");
        btn.innerText = i;
        btn.className = "lock-btn";
        btn.onclick = () => handleManualInput(i);
        container.appendChild(btn);
      }

      updateStatus("ğŸ® ìë¬¼ì‡  ì²´í—˜ ëª¨ë“œ: ë²„íŠ¼ì„ ëˆŒëŸ¬ë³´ì„¸ìš”.");
      updateProgress();
      console.log("ğŸ” ë””ë²„ê·¸ìš© ì •ë‹µ:", answer.join(" "));
    }
function handleManualInput(value) {
  attempts++;
  const nextIndex = current.length;
  const buttons = document.querySelectorAll(".lock-btn");

  if (value === answer[nextIndex]) {
    current.push(value);
    updateStatus(`âœ… ${value} ë²„íŠ¼ ë§ì•˜ì–´ìš”!`);
    // buttons[value - 1].style.backgroundColor = "#90ee90"; // ë§ì€ ë²„íŠ¼ì€ ì´ˆë¡ìƒ‰ í‘œì‹œ ìœ ì§€

        // âœ… ë§ì€ ë²„íŠ¼ ì´ˆë¡ìƒ‰ ê¹œë¹¡
    const btn = buttons[value - 1];
    btn.style.backgroundColor = "#90ee90";
    setTimeout(() => {
      btn.style.backgroundColor = "";
    }, 600);
  } else {
    updateStatus(`âŒ ${value} ë²„íŠ¼ í‹€ë ¸ì–´ìš”. ë‹¤ì‹œ ì²˜ìŒë¶€í„° í•´ìš”!`);

    // ğŸ” ë²„íŠ¼ ìƒ‰ìƒ ì´ˆê¸°í™” (ëª¨ë“  ë²„íŠ¼)
    buttons.forEach(btn => {
      btn.style.backgroundColor = ""; // ì´ˆê¸°í™”
    });

    // âŒ í‹€ë¦° ë²„íŠ¼ë§Œ ë¹¨ê°„ìƒ‰ ê¹œë¹¡
    const btn = buttons[value - 1];
    btn.style.backgroundColor = "#ff9999";
    setTimeout(() => {
      btn.style.backgroundColor = "";
    }, 400);

    // ì…ë ¥í•œ ì •ë‹µ ì‹œí€€ìŠ¤ëŠ” ë¦¬ì…‹
    current = [];
  }

  updateProgress();

  if (current.length === k) {
    updateStatus(`ğŸ‰ ìë¬¼ì‡ ê°€ ì—´ë ¸ì–´ìš”! ì´ ì‹œë„ íšŸìˆ˜: ${attempts}`);
  }
}

  </script>
</body>
</html>
